# 逆向分析- 栈篇

## 栈的用途
- 暂时保存函数内的局部变量
- 调用函数时传递参数
- 保存函数返回后的地址

栈是一种由高地址向低地址扩展的数据结构
向栈压入数据，栈顶指针减小，向低地址移动。从栈中弹出数据时，栈顶指针增加，向高地址移动

## 栈帧
就是利用EBP(栈帧指针)去访问栈内部的变量，参数返回地址等。由于ESP是在不断变动，所以以ESP为基准点去访问参数是十分困难的。所以参数开头都需要有：
```
push ebp       ; 函数开始
mov ebp,esp    ; 保存当前esp到ebp中
```
