# TCP 的CUBIC 和 BBR算法

CUBIC是当前Linux系统上默认的拥塞控制算法，它的拥塞控制窗口增长函数是一个三次函数，这样设计的目的是为了在当前的快速和长距离网络环境中有更好的扩展性。


传统的TCP 拥塞算法：

例如TCP-Reno，TCP-NewReno，TCP-SACK等之所以在新环境下不能充分利用网络带宽，主要是因为在进入拥塞避免阶段后，它们的拥塞窗口每经过一个RTT（报文往返时间）才加1，拥塞窗口的增长速度太慢，当碰上高带宽环境时，可能需要经历很多个RTT，拥塞窗口才能接近于一个BDP。如果数据流很短，可能拥塞窗口还没增长到一个BDP(**带宽时延乘积**,指的是一个数据链路的能力（每秒比特）与来回通信延迟（单位秒）的乘积 )，数据流就已经结束了，这种情况的带宽利用率就会非常低。



## TCP BBR算法的工作原理

TCP BBR算法是一种主动式机制，简单来说BBR算法不再基于丢包判断并且也不再使用AIMD线性增乘性减策略来维护拥塞窗口，而是分别采样估计极大带宽和极小延时，并用二者乘积作为发送窗口，并且BBR引入了Pacing Rate限制数据发送速率，配合cwnd使用来降低冲击。

